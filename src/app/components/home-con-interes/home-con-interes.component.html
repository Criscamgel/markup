<form #gaesForm="ngForm" (keydown.enter)="$event.preventDefault()">
    <app-process-request *ngIf="startRequest" [inputCalculoCuota]="calculadora" [startRequest]="startRequest" (outputCancelRequest)="cancelRequest()">
    </app-process-request>
    <div class="superContenedor animated fadeIn fast">

        <section id="hero" class="seccionFluida fondoImagen doNotPrint">

            <div class="contenedor contenedorsEncabezado doNotPrint">
                <div class="contenido sEncabezado">FINANCIA EL DISPOSITIVOS CON GAES Y EL BANCO SANTANDER
                </div>
            </div>

            <div class="seccionFluida fondoBlanco printOk">
                <div class="contenedor contenedorfondoBlanco">
                    <div class="contenido logos">

                        <img class="printOk" src="../../../assets/img/LogoGaes.png">
                        <img class="printOk" src="../../../assets/img/logoSantander.png">

                        <div class="logoGaes fondoLogo"></div>
                        <div class="logoSantander fondoLogo"></div>

                        <a class="buttonHelp doNotPrint" [routerLink]="['/ayuda']">
                            <button class="buttonAyuda">
                                <div class="itemButton">
                                    <i class="fa fa-question-circle"></i>
                                    <p class="bigTitle">AYUDA</p>
                                </div>
                            </button>
                        </a>
                    </div>

                </div>
            </div>


            <div class="contenedor textoHero doNotPrint" (click)="magicClick()">
                <div class="contenido cuatroColumnas">

                    <div class="columnaUno">
                        <h1>FINANCIA EL DISPOSITIVO<br class="noDesk"> DE TU PACIENTE</h1>
                        <p class="parrafo">
                            GAES es una compañía multinacional líder en el sector de la corrección auditiva, lleva 70 años diseñando (I+D), produciendo, distribuyendo y comercializando audífonos para todas las personas con dificultades auditivas.
                        </p>
                    </div>
                </div>
            </div>

        </section>

        <!-- Encabezado -->


        <section id="calculadora">
            <div class="contenedor">
                <div id="solicitud" class="contenido contSolicitud">
                    <div class="cntOpciones">
                        <div class="opcion" *ngFor="let radio of cuotasRadio">
                            <h3>{{radio.tittle}}</h3>
                            <app-edit-input [data]='radio.value'>
                            </app-edit-input>
                            <div class="btnSeleccionar">
                                <input [id]="radio.id" (click)="saveMonto($event.target.value)" name="gama" type="radio" [value]="radio.value" [checked]="radio.isChecked">
                                <div (click)="saveMonto($event.target.valueAsNumber)">SELECCIONAR</div>
                            </div>
                        </div>

                    </div>
                    <!-- </div> -->

                    <hr>

                    <div class="calcPdos">
                        <p class="title">¿En cuántas cuotas desea pagar el dispositivo?</p>

                        <div class="contPeriodo">

                            <span class="radio">

                                <div *ngIf="diferencia < 6 || showAge < 18" class="disableOption"></div>

                                <input id="seis" [(ngModel)]="cuotas" name="cuota"
                                    (click)="changeButtonCliente($event.target); changeButton($event.target); "
                                    type="radio" value="6" [disabled]="diferencia < 6 || showAge < 18">
                                <div>
                                    <div class="numBer">06</div>
                                    <div class="mes">meses</div>
                                </div>
                            </span>

                            <span class="radio">

                                <div *ngIf="diferencia < 12 || showAge < 18" class="disableOption"></div>

                                <input id="doce" [(ngModel)]="cuotas" name="cuotaDoce"
                                    (click)="changeButtonCliente($event.target); changeButton($event.target)"
                                    type="radio" value="12" [disabled]="diferencia < 12 || showAge < 18">
                                <div>
                                    <div class="numBer">12</div>
                                    <div class="mes">meses</div>
                                </div>
                            </span>
                            <span class="radio">

                                <div *ngIf="diferencia < 18 || showAge < 18" class="disableOption"></div>

                                <input id="diesiocho" [(ngModel)]="cuotas" name="cuotaDiezOcho"
                                    (click)="changeButtonCliente($event.target); changeButton($event.target)"
                                    type="radio" value="18" [disabled]="diferencia < 18 || showAge < 18">
                                <div>
                                    <div class="numBer">18</div>
                                    <div class="mes">meses</div>
                                </div>
                            </span>

                            <span class="radio">

                                <div *ngIf="diferencia < 24 || showAge < 18" class="disableOption"></div>

                                <input id="veinticuatro" [(ngModel)]="cuotas" name="cuotaVeinteCuatro"
                                    (click)="changeButtonCliente($event.target); changeButton($event.target)"
                                    type="radio" value="24" [disabled]="diferencia < 24 || showAge < 18">
                                <div>
                                    <div class="numBer">24</div>
                                    <div class="mes">meses</div>
                                </div>
                            </span>

                            <span class="radio">

                                <div *ngIf="diferencia < 36 || showAge < 18" class="disableOption"></div>
                                <input id="treintaSeis" [(ngModel)]="cuotas" name="cuotaTreintaSeis"
                                    (click)="changeButtonCliente($event.target); changeButton($event.target)"
                                    type="radio" value="36" [disabled]="diferencia < 36 || showAge < 18">
                                <div>
                                    <div class="numBer">36</div>
                                    <div class="mes">meses</div>
                                </div>
                            </span>
                        </div>
                        <hr>


                        <!-- Rango de Anticipo -->


                        <div *ngIf="showInputs">
                            <p class="title">Porcentaje de cuota inicial</p>

                            <div class="fullInputNumber doNotPrint">
                                <mat-form-field appearance="outline">
                                    <input matInput min="{{ctaminDes}}" max="{{ctamaxDes}}" name="ctaSlide" #CtainicialSlide="ngModel" type="number" placeholder="Porcentaje de Cuota Inicial" [(ngModel)]="ctainicialSlide" [disabled]="cuotas == 36 || valorSolicitado == 0 ? 'disabled' : null"
                                        (change)="descuento()">
                                </mat-form-field>
                                <mat-error *ngIf="ctainicialSlide < ctaminDes || ctainicialSlide > ctamaxDes"><small>El valor diligenciado debe ser entre {{ctaminDes}} a {{ctamaxDes}}</small></mat-error>
                            </div>
                        </div>
                    </div>

                    <div *ngIf="showInputs">
                        <div id="cuotaInicial" class="cntAprox">
                            <p class="grayParrf">Cuota inicial:</p>
                            <h3>{{ctainicialSlide == undefined || ctainicialSlide > ctamaxDes ? 0 : ctainicialSlide}}%</h3>

                            <div class="tooltip">
                            </div>
                        </div>
                        <hr>
                    </div>
                    <div id="cuotaInicial" class="cntAprox">
                        <p class="grayParrf">Valor cuota inicial:</p>
                        <h3>$ {{cuotaInicial | number:'1.0'}}</h3>

                        <div class="tooltip">
                        </div>

                    </div>


                    <div class="cntAprox">
                        <p class="grayParrf">Cuota aproximada mensual:<br class="noDesk"> (incluye seguro de vida)</p>
                        <h3>$ {{vlrCuotaSs + seguroCta | number:'1.0-0'}}</h3>

                        <div class="tooltip doNotPrint">
                            <i class="fa fa-question-circle" (click)="details()"></i>

                        </div>

                    </div>

                    <!-- Detalles -->

                    <div class="cntAprox details" *ngIf="showDetails">
                        <!-- <div class="tooltip">
                                            <i class="fa fa-question-circle"></i>
                                        </div> -->

                        <div *ngIf="showDetailsOne" class="contDetail">
                            <p class="grayParrf">Monto a financiar:</p>
                            <p class="cifraBlack">$ {{vlrSolSinCi | number:'1.0'}}</p>
                        </div>

                        <div *ngIf="showDetailsOne" class="contDetail">
                            <p class="grayParrf">Valor de la cuota sin seguro:</p>
                            <p class="cifraBlack">$ {{vlrCuotaSs | number:'1.0'}}</p>
                        </div>

                        <div *ngIf="showDetailsOne" class="contDetail">
                            <p class="grayParrf">Valor del seguro:</p>
                            <p class="cifraBlack">$ {{seguroTotal | number:'1.0'}}</p>
                        </div>

                        <div *ngIf="showDetailsOne" class="contDetail">
                            <p class="grayParrf">Cuota mensual del seguro:</p>
                            <p class="cifraBlack">$ {{seguroCta | number:'1.0-0'}}</p>
                        </div>

                        <div *ngIf="showDetailsOne" class="contDetail">
                            <p class="grayParrf">Monto total a financiar:</p>
                            <p class="cifraBlack">$ {{montoTotal | number:'1.0'}}</p>
                        </div>

                        <div *ngIf="showDetailsOne" class="contDetail">
                            <p class="grayParrf">Tasa efectivo anual:</p>
                            <p class="cifraBlack">{{tasa * 100}} %</p>
                        </div>

                        <div *ngIf="showDetailsOne" class="contDetail">
                            <p class="grayParrf">Tasa nominal mes vencido:</p>
                            <p class="cifraBlack">{{nmv}} %</p>
                        </div>
                        <!-- </div> -->
                        <!-- </div> -->
                    </div>

                    <hr class="doNotPrint">

                    <div class="cntBotones doNotPrint">
                        <button class="btnCta imprimir" (click)="onPrint()" [disabled]="valorSolicitado === 0 || cuotas === 0 || showAge < 18 || diferencia < 6">IMPRIMIR</button>
                    </div>
                    <div class="cntBotones doNotPrint" (click)="openSolicitud(); gaesForm.reset()">
                        <button class="btnCta" [disabled]="valorSolicitado === 0 || cuotas === 0 || showAge < 18 || diferencia < 6">INICIAR
                            SOLICITUD</button>
                    </div>


                    <div class="cntBotones doNotPrint">
                        <a class="ayudaM doNotPrint" [routerLink]="['/ayuda']">
                            <button class="btnCta buttonAyuda">
                                <div class="itemButton">
                                    <i class="fa fa-question-circle"></i>
                                    <p class="bigTitle">AYUDA</p>
                                </div>
                            </button>
                        </a>
                    </div>

                    <hr class="doNotPrint">

                    <div class="contCondiciones doNotPrint">
                        <p class="title">Condiciones para el cliente:</p>
                        <p class="listaItem">
                            • Debe tener entre 18 y 75 años<br> • Ganar más de un salario mínimo<br> • El monto mínimo es $800.000<br> • El monto máximo es $20.000.000<br> • Colombiano o residente con visa e historia laboral<br> • Plazo de financiación
                            máximo 12 meses adicionales a la duración del tratamiento
                        </p>
                    </div>

                    <hr class="doNotPrint">

                    <div class="contCondiciones doNotPrint">

                        <p class="title">Clientes asalariados:</p>
                        <p class="listaItem">• Continuidad laboral mínima de 12 meses.</p>
                        <p class="title">Clientes independientes:</p>
                        <p class="listaItem">• Antigüedad en la actividad mínima de 12 meses</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="seccionFluida">
            <div class="contenido">
                <div class="cntPie printOk">
                    <p class="small printOk">Copyright © 2019, Banco Santander</p>
                </div>
            </div>
        </section>
    </div>
</form>